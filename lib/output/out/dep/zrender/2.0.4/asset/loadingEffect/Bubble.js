/*! @2014 Leo Wang. All Rights Reserved */
define("zrender/loadingEffect/Bubble",["require","./Base","../tool/util","../tool/color","../shape/Circle"],function(require){function e(e){t.call(this,e)}var t=require("./Base"),n=require("../tool/util"),i=require("../tool/color"),a=require("../shape/Circle");return n.inherits(e,t),e.prototype._start=function(e,t){for(var r=n.merge(this.options,{textStyle:{color:"#888"},backgroundColor:"rgba(250, 250, 250, 0.8)",effect:{n:50,lineWidth:2,brushType:"stroke",color:"random",timeInterval:100}}),o=this.createTextShape(r.textStyle),s=this.createBackgroundShape(r.backgroundColor),l=r.effect,h=l.n,d=l.brushType,m=l.lineWidth,u=[],c=this.canvasWidth,p=this.canvasHeight,f=0;h>f;f++){var V="random"==l.color?i.alpha(i.random(),.3):l.color;u[f]=new a({highlightStyle:{x:Math.ceil(Math.random()*c),y:Math.ceil(Math.random()*p),r:Math.ceil(40*Math.random()),brushType:d,color:V,strokeColor:V,lineWidth:m},animationY:Math.ceil(20*Math.random())})}return setInterval(function(){e(s);for(var n=0;h>n;n++){var i=u[n].highlightStyle;if(i.y-u[n].animationY+i.r<=0)u[n].highlightStyle.y=p+i.r,u[n].highlightStyle.x=Math.ceil(Math.random()*c);u[n].highlightStyle.y-=u[n].animationY,e(u[n])}e(o),t()},l.timeInterval)},e});