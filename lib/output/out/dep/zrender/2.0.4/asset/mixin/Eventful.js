/*! @2014 Leo Wang. All Rights Reserved */
define("zrender/mixin/Eventful",["require"],function(){var e=function(){this._handlers={}};return e.prototype.one=function(e,t,n){var i=this._handlers;if(!t||!e)return this;if(!i[e])i[e]=[];return i[e].push({h:t,one:!0,ctx:n||this}),this},e.prototype.bind=function(e,t,n){var i=this._handlers;if(!t||!e)return this;if(!i[e])i[e]=[];return i[e].push({h:t,one:!1,ctx:n||this}),this},e.prototype.unbind=function(e,t){var n=this._handlers;if(!e)return this._handlers={},this;if(t){if(n[e]){for(var i=[],a=0,r=n[e].length;r>a;a++)if(n[e][a].h!=t)i.push(n[e][a]);n[e]=i}if(n[e]&&0===n[e].length)delete n[e]}else delete n[e];return this},e.prototype.dispatch=function(e){if(this._handlers[e]){var t=arguments,n=t.length;if(n>3)t=Array.prototype.slice.call(t,1);for(var i=this._handlers[e],a=i.length,r=0;a>r;){switch(n){case 1:i[r].h.call(i[r].ctx);break;case 2:i[r].h.call(i[r].ctx,t[1]);break;case 3:i[r].h.call(i[r].ctx,t[1],t[2]);break;default:i[r].h.apply(i[r].ctx,t)}if(i[r].one)i.splice(r,1),a--;else r++}}return this},e.prototype.dispatchWithContext=function(e){if(this._handlers[e]){var t=arguments,n=t.length;if(n>4)t=Array.prototype.slice.call(t,1,t.length-1);for(var i=t[t.length-1],a=this._handlers[e],r=a.length,o=0;r>o;){switch(n){case 1:a[o].h.call(i);break;case 2:a[o].h.call(i,t[1]);break;case 3:a[o].h.call(i,t[1],t[2]);break;default:a[o].h.apply(i,t)}if(a[o].one)a.splice(o,1),r--;else o++}}return this},e});