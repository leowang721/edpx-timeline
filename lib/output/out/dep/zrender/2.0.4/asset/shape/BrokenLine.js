/*! @2014 Leo Wang. All Rights Reserved */
define("zrender/shape/BrokenLine",["require","./Base","./util/smoothSpline","./util/smoothBezier","./util/dashedLineTo","./Polygon","../tool/util"],function(require){var e=require("./Base"),t=require("./util/smoothSpline"),n=require("./util/smoothBezier"),i=require("./util/dashedLineTo"),a=function(t){this.brushTypeOnly="stroke",this.textPosition="end",e.call(this,t)};return a.prototype={type:"broken-line",buildPath:function(e,a){var r=a.pointList;if(!(r.length<2)){var o=Math.min(a.pointList.length,Math.round(a.pointListLength||a.pointList.length));if(a.smooth&&"spline"!==a.smooth){var s=n(r,a.smooth,!1,a.smoothConstraint);e.moveTo(r[0][0],r[0][1]);for(var l,h,d,m=0;o-1>m;m++)l=s[2*m],h=s[2*m+1],d=r[m+1],e.bezierCurveTo(l[0],l[1],h[0],h[1],d[0],d[1])}else{if("spline"===a.smooth)r=t(r),o=r.length;if(!a.lineType||"solid"==a.lineType){e.moveTo(r[0][0],r[0][1]);for(var m=1;o>m;m++)e.lineTo(r[m][0],r[m][1])}else if("dashed"==a.lineType||"dotted"==a.lineType){var u=(a.lineWidth||1)*("dashed"==a.lineType?5:1);e.moveTo(r[0][0],r[0][1]);for(var m=1;o>m;m++)i(e,r[m-1][0],r[m-1][1],r[m][0],r[m][1],u)}}}},getRect:function(e){return require("./Polygon").prototype.getRect(e)}},require("../tool/util").inherits(a,e),a});