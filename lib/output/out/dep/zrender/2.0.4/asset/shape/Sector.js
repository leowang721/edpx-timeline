/*! @2014 Leo Wang. All Rights Reserved */
define("zrender/shape/Sector",["require","../tool/math","./Base","./Ring","./Polygon","../tool/util"],function(require){var e=require("../tool/math"),t=require("./Base"),i=function(e){t.call(this,e)};return i.prototype={type:"sector",buildPath:function(t,i){var n=i.x,a=i.y,r="undefined"==typeof i.r0?0:i.r0,o=i.r,s=i.startAngle,l=i.endAngle;if(!(Math.abs(l-s)>=360)){s=e.degreeToRadian(s),l=e.degreeToRadian(l);var h=2*Math.PI,d=e.cos(s),m=e.sin(s);if(t.moveTo(d*r+n,a-m*r),t.lineTo(d*o+n,a-m*o),t.arc(n,a,o,h-s,h-l,!0),t.lineTo(e.cos(l)*r+n,a-e.sin(l)*r),0!==r)t.arc(n,a,r,h-l,h-s,!1);t.closePath()}else if(t.arc(n,a,o,0,2*Math.PI,!1),0!==r)t.moveTo(n+r,a),t.arc(n,a,r,0,2*Math.PI,!0)},getRect:function(t){if(t.__rect)return t.__rect;var i=t.x,n=t.y,a="undefined"==typeof t.r0?0:t.r0,r=t.r,o=t.startAngle,s=t.endAngle;if(Math.abs(s-o)>=360)return t.__rect=require("./Ring").prototype.getRect(t),t.__rect;if(o=(720+o)%360,s=(720+s)%360,o>=s)s+=360;var l=[];if(90>=o&&s>=90)l.push([i,n-r]);if(180>=o&&s>=180)l.push([i-r,n]);if(270>=o&&s>=270)l.push([i,n+r]);if(360>=o&&s>=360)l.push([i+r,n]);return o=e.degreeToRadian(o),s=e.degreeToRadian(s),l.push([e.cos(o)*a+i,n-e.sin(o)*a]),l.push([e.cos(o)*r+i,n-e.sin(o)*r]),l.push([e.cos(s)*r+i,n-e.sin(s)*r]),l.push([e.cos(s)*a+i,n-e.sin(s)*a]),t.__rect=require("./Polygon").prototype.getRect({brushType:t.brushType,lineWidth:t.lineWidth,pointList:l}),t.__rect}},require("../tool/util").inherits(i,t),i});