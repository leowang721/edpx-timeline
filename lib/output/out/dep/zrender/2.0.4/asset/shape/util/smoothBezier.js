/*! @2014 Leo Wang. All Rights Reserved */
define("zrender/shape/util/smoothBezier",["require","../../tool/vector"],function(require){var e=require("../../tool/vector");return function(t,i,n,a){var r,o,s,l,h=[],d=[],m=[],u=[],c=!!a;if(c){s=[1/0,1/0],l=[-1/0,-1/0];for(var p=0,f=t.length;f>p;p++)e.min(s,s,t[p]),e.max(l,l,t[p]);e.min(s,s,a[0]),e.max(l,l,a[1])}for(var p=0,f=t.length;f>p;p++){var r,o,V=t[p];if(n)r=t[p?p-1:f-1],o=t[(p+1)%f];else if(0===p||p===f-1){h.push(t[p]);continue}else r=t[p-1],o=t[p+1];e.sub(d,o,r),e.scale(d,d,i);var U=e.distance(V,r),y=e.distance(V,o),g=U+y;if(0!==g)U/=g,y/=g;e.scale(m,d,-U),e.scale(u,d,y);var _=e.add([],V,m),b=e.add([],V,u);if(c)e.max(_,_,s),e.min(_,_,l),e.max(b,b,s),e.min(b,b,l);h.push(_),h.push(b)}if(n)h.push(h.shift());return h}});