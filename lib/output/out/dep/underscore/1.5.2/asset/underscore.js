/*! @2014 Leo Wang. All Rights Reserved */
define("underscore/underscore",["require","exports","module"],function(require,exports,module){(function(){var e=this,t=e._,n={},i=Array.prototype,a=Object.prototype,r=Function.prototype,o=i.push,s=i.slice,l=i.concat,h=a.toString,d=a.hasOwnProperty,m=i.forEach,p=i.map,u=i.reduce,c=i.reduceRight,f=i.filter,V=i.every,U=i.some,y=i.indexOf,g=i.lastIndexOf,b=Array.isArray,_=Object.keys,k=r.bind,L=function(e){if(e instanceof L)return e;if(!(this instanceof L))return new L(e);else return void(this._wrapped=e)};if("undefined"!=typeof exports){if("undefined"!=typeof module&&module.exports)exports=module.exports=L;exports._=L}else e._=L;L.VERSION="1.5.2";var x=L.each=L.forEach=function(e,t,i){if(null!=e)if(m&&e.forEach===m)e.forEach(t,i);else if(e.length===+e.length){for(var a=0,r=e.length;r>a;a++)if(t.call(i,e[a],a,e)===n)return}else for(var o=L.keys(e),a=0,r=o.length;r>a;a++)if(t.call(i,e[o[a]],o[a],e)===n)return};L.map=L.collect=function(e,t,n){var i=[];if(null==e)return i;if(p&&e.map===p)return e.map(t,n);else return x(e,function(e,a,r){i.push(t.call(n,e,a,r))}),i};var v="Reduce of empty array with no initial value";L.reduce=L.foldl=L.inject=function(e,t,n,i){var a=arguments.length>2;if(null==e)e=[];if(u&&e.reduce===u){if(i)t=L.bind(t,i);return a?e.reduce(t,n):e.reduce(t)}if(x(e,function(e,r,o){if(!a)n=e,a=!0;else n=t.call(i,n,e,r,o)}),!a)throw new TypeError(v);return n},L.reduceRight=L.foldr=function(e,t,n,i){var a=arguments.length>2;if(null==e)e=[];if(c&&e.reduceRight===c){if(i)t=L.bind(t,i);return a?e.reduceRight(t,n):e.reduceRight(t)}var r=e.length;if(r!==+r){var o=L.keys(e);r=o.length}if(x(e,function(s,l,h){if(l=o?o[--r]:--r,!a)n=e[l],a=!0;else n=t.call(i,n,e[l],l,h)}),!a)throw new TypeError(v);return n},L.find=L.detect=function(e,t,n){var i;return w(e,function(e,a,r){if(t.call(n,e,a,r))return i=e,!0;else return void 0}),i},L.filter=L.select=function(e,t,n){var i=[];if(null==e)return i;if(f&&e.filter===f)return e.filter(t,n);else return x(e,function(e,a,r){if(t.call(n,e,a,r))i.push(e)}),i},L.reject=function(e,t,n){return L.filter(e,function(e,i,a){return!t.call(n,e,i,a)},n)},L.every=L.all=function(e,t,i){t||(t=L.identity);var a=!0;if(null==e)return a;if(V&&e.every===V)return e.every(t,i);else return x(e,function(e,r,o){if(!(a=a&&t.call(i,e,r,o)))return n;else return void 0}),!!a};var w=L.some=L.any=function(e,t,i){t||(t=L.identity);var a=!1;if(null==e)return a;if(U&&e.some===U)return e.some(t,i);else return x(e,function(e,r,o){if(a||(a=t.call(i,e,r,o)))return n;else return void 0}),!!a};L.contains=L.include=function(e,t){if(null==e)return!1;if(y&&e.indexOf===y)return-1!=e.indexOf(t);else return w(e,function(e){return e===t})},L.invoke=function(e,t){var n=s.call(arguments,2),i=L.isFunction(t);return L.map(e,function(e){return(i?t:e[t]).apply(e,n)})},L.pluck=function(e,t){return L.map(e,function(e){return e[t]})},L.where=function(e,t,n){if(L.isEmpty(t))return n?void 0:[];else return L[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},L.findWhere=function(e,t){return L.where(e,t,!0)},L.max=function(e,t,n){if(!t&&L.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&L.isEmpty(e))return-1/0;var i={computed:-1/0,value:-1/0};return x(e,function(e,a,r){var o=t?t.call(n,e,a,r):e;o>i.computed&&(i={value:e,computed:o})}),i.value},L.min=function(e,t,n){if(!t&&L.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&L.isEmpty(e))return 1/0;var i={computed:1/0,value:1/0};return x(e,function(e,a,r){var o=t?t.call(n,e,a,r):e;o<i.computed&&(i={value:e,computed:o})}),i.value},L.shuffle=function(e){var t,n=0,i=[];return x(e,function(e){t=L.random(n++),i[n-1]=i[t],i[t]=e}),i},L.sample=function(e,t,n){if(arguments.length<2||n)return e[L.random(e.length-1)];else return L.shuffle(e).slice(0,Math.max(0,t))};var W=function(e){return L.isFunction(e)?e:function(t){return t[e]}};L.sortBy=function(e,t,n){var i=W(t);return L.pluck(L.map(e,function(e,t,a){return{value:e,index:t,criteria:i.call(n,e,t,a)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return e.index-t.index}),"value")};var X=function(e){return function(t,n,i){var a={},r=null==n?L.identity:W(n);return x(t,function(n,o){var s=r.call(i,n,o,t);e(a,s,n)}),a}};L.groupBy=X(function(e,t,n){(L.has(e,t)?e[t]:e[t]=[]).push(n)}),L.indexBy=X(function(e,t,n){e[t]=n}),L.countBy=X(function(e,t){L.has(e,t)?e[t]++:e[t]=1}),L.sortedIndex=function(e,t,n,i){n=null==n?L.identity:W(n);for(var a=n.call(i,t),r=0,o=e.length;o>r;){var s=r+o>>>1;n.call(i,e[s])<a?r=s+1:o=s}return r},L.toArray=function(e){if(!e)return[];if(L.isArray(e))return s.call(e);if(e.length===+e.length)return L.map(e,L.identity);else return L.values(e)},L.size=function(e){if(null==e)return 0;else return e.length===+e.length?e.length:L.keys(e).length},L.first=L.head=L.take=function(e,t,n){if(null==e)return void 0;else return null==t||n?e[0]:s.call(e,0,t)},L.initial=function(e,t,n){return s.call(e,0,e.length-(null==t||n?1:t))},L.last=function(e,t,n){if(null==e)return void 0;if(null==t||n)return e[e.length-1];else return s.call(e,Math.max(e.length-t,0))},L.rest=L.tail=L.drop=function(e,t,n){return s.call(e,null==t||n?1:t)},L.compact=function(e){return L.filter(e,L.identity)};var I=function(e,t,n){if(t&&L.every(e,L.isArray))return l.apply(n,e);else return x(e,function(e){if(L.isArray(e)||L.isArguments(e))t?o.apply(n,e):I(e,t,n);else n.push(e)}),n};L.flatten=function(e,t){return I(e,t,[])},L.without=function(e){return L.difference(e,s.call(arguments,1))},L.uniq=L.unique=function(e,t,n,i){if(L.isFunction(t))i=n,n=t,t=!1;var a=n?L.map(e,n,i):e,r=[],o=[];return x(a,function(n,i){if(t?!i||o[o.length-1]!==n:!L.contains(o,n))o.push(n),r.push(e[i])}),r},L.union=function(){return L.uniq(L.flatten(arguments,!0))},L.intersection=function(e){var t=s.call(arguments,1);return L.filter(L.uniq(e),function(e){return L.every(t,function(t){return L.indexOf(t,e)>=0})})},L.difference=function(e){var t=l.apply(i,s.call(arguments,1));return L.filter(e,function(e){return!L.contains(t,e)})},L.zip=function(){for(var e=L.max(L.pluck(arguments,"length").concat(0)),t=new Array(e),n=0;e>n;n++)t[n]=L.pluck(arguments,""+n);return t},L.object=function(e,t){if(null==e)return{};for(var n={},i=0,a=e.length;a>i;i++)if(t)n[e[i]]=t[i];else n[e[i][0]]=e[i][1];return n},L.indexOf=function(e,t,n){if(null==e)return-1;var i=0,a=e.length;if(n)if("number"==typeof n)i=0>n?Math.max(0,a+n):n;else return i=L.sortedIndex(e,t),e[i]===t?i:-1;if(y&&e.indexOf===y)return e.indexOf(t,n);for(;a>i;i++)if(e[i]===t)return i;return-1},L.lastIndexOf=function(e,t,n){if(null==e)return-1;var i=null!=n;if(g&&e.lastIndexOf===g)return i?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var a=i?n:e.length;a--;)if(e[a]===t)return a;return-1},L.range=function(e,t,n){if(arguments.length<=1)t=e||0,e=0;n=arguments[2]||1;for(var i=Math.max(Math.ceil((t-e)/n),0),a=0,r=new Array(i);i>a;)r[a++]=e,e+=n;return r};var K=function(){};L.bind=function(e,t){var n,i;if(k&&e.bind===k)return k.apply(e,s.call(arguments,1));if(!L.isFunction(e))throw new TypeError;return n=s.call(arguments,2),i=function(){if(!(this instanceof i))return e.apply(t,n.concat(s.call(arguments)));K.prototype=e.prototype;var a=new K;K.prototype=null;var r=e.apply(a,n.concat(s.call(arguments)));if(Object(r)===r)return r;else return a}},L.partial=function(e){var t=s.call(arguments,1);return function(){return e.apply(this,t.concat(s.call(arguments)))}},L.bindAll=function(e){var t=s.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return x(t,function(t){e[t]=L.bind(e[t],e)}),e},L.memoize=function(e,t){var n={};return t||(t=L.identity),function(){var i=t.apply(this,arguments);return L.has(n,i)?n[i]:n[i]=e.apply(this,arguments)}},L.delay=function(e,t){var n=s.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},L.defer=function(e){return L.delay.apply(L,[e,1].concat(s.call(arguments,1)))},L.throttle=function(e,t,n){var i,a,r,o=null,s=0;n||(n={});var l=function(){s=n.leading===!1?0:new Date,o=null,r=e.apply(i,a)};return function(){var h=new Date;if(!s&&n.leading===!1)s=h;var d=t-(h-s);if(i=this,a=arguments,0>=d)clearTimeout(o),o=null,s=h,r=e.apply(i,a);else if(!o&&n.trailing!==!1)o=setTimeout(l,d);return r}},L.debounce=function(e,t,n){var i,a,r,o,s;return function(){r=this,a=arguments,o=new Date;var l=function(){var h=new Date-o;if(t>h)i=setTimeout(l,t-h);else if(i=null,!n)s=e.apply(r,a)},h=n&&!i;if(!i)i=setTimeout(l,t);if(h)s=e.apply(r,a);return s}},L.once=function(e){var t,n=!1;return function(){if(n)return t;else return n=!0,t=e.apply(this,arguments),e=null,t}},L.wrap=function(e,t){return function(){var n=[e];return o.apply(n,arguments),t.apply(this,n)}},L.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},L.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments);else return void 0}},L.keys=_||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)if(L.has(e,n))t.push(n);return t},L.values=function(e){for(var t=L.keys(e),n=t.length,i=new Array(n),a=0;n>a;a++)i[a]=e[t[a]];return i},L.pairs=function(e){for(var t=L.keys(e),n=t.length,i=new Array(n),a=0;n>a;a++)i[a]=[t[a],e[t[a]]];return i},L.invert=function(e){for(var t={},n=L.keys(e),i=0,a=n.length;a>i;i++)t[e[n[i]]]=n[i];return t},L.functions=L.methods=function(e){var t=[];for(var n in e)if(L.isFunction(e[n]))t.push(n);return t.sort()},L.extend=function(e){return x(s.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},L.pick=function(e){var t={},n=l.apply(i,s.call(arguments,1));return x(n,function(n){if(n in e)t[n]=e[n]}),t},L.omit=function(e){var t={},n=l.apply(i,s.call(arguments,1));for(var a in e)if(!L.contains(n,a))t[a]=e[a];return t},L.defaults=function(e){return x(s.call(arguments,1),function(t){if(t)for(var n in t)if(void 0===e[n])e[n]=t[n]}),e},L.clone=function(e){if(!L.isObject(e))return e;else return L.isArray(e)?e.slice():L.extend({},e)},L.tap=function(e,t){return t(e),e};var M=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;if(e instanceof L)e=e._wrapped;if(t instanceof L)t=t._wrapped;var a=h.call(e);if(a!=h.call(t))return!1;switch(a){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var r=n.length;r--;)if(n[r]==e)return i[r]==t;var o=e.constructor,s=t.constructor;if(o!==s&&!(L.isFunction(o)&&o instanceof o&&L.isFunction(s)&&s instanceof s))return!1;n.push(e),i.push(t);var l=0,d=!0;if("[object Array]"==a){if(l=e.length,d=l==t.length)for(;l--&&(d=M(e[l],t[l],n,i)););}else{for(var m in e)if(L.has(e,m))if(l++,!(d=L.has(t,m)&&M(e[m],t[m],n,i)))break;if(d){for(m in t)if(L.has(t,m)&&!l--)break;d=!l}}return n.pop(),i.pop(),d};if(L.isEqual=function(e,t){return M(e,t,[],[])},L.isEmpty=function(e){if(null==e)return!0;if(L.isArray(e)||L.isString(e))return 0===e.length;for(var t in e)if(L.has(e,t))return!1;return!0},L.isElement=function(e){return!(!e||1!==e.nodeType)},L.isArray=b||function(e){return"[object Array]"==h.call(e)},L.isObject=function(e){return e===Object(e)},x(["Arguments","Function","String","Number","Date","RegExp"],function(e){L["is"+e]=function(t){return h.call(t)=="[object "+e+"]"}}),!L.isArguments(arguments))L.isArguments=function(e){return!(!e||!L.has(e,"callee"))};if("function"!=typeof/./)L.isFunction=function(e){return"function"==typeof e};L.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},L.isNaN=function(e){return L.isNumber(e)&&e!=+e},L.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==h.call(e)},L.isNull=function(e){return null===e},L.isUndefined=function(e){return void 0===e},L.has=function(e,t){return d.call(e,t)},L.noConflict=function(){return e._=t,this},L.identity=function(e){return e},L.times=function(e,t,n){for(var i=Array(Math.max(0,e)),a=0;e>a;a++)i[a]=t.call(n,a);return i},L.random=function(e,t){if(null==t)t=e,e=0;return e+Math.floor(Math.random()*(t-e+1))};var C={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};C.unescape=L.invert(C.escape);var T={escape:new RegExp("["+L.keys(C.escape).join("")+"]","g"),unescape:new RegExp("("+L.keys(C.unescape).join("|")+")","g")};L.each(["escape","unescape"],function(e){L[e]=function(t){if(null==t)return"";else return(""+t).replace(T[e],function(t){return C[e][t]})}}),L.result=function(e,t){if(null==e)return void 0;var n=e[t];return L.isFunction(n)?n.call(e):n},L.mixin=function(e){x(L.functions(e),function(t){var n=L[t]=e[t];L.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),P.call(this,n.apply(L,e))}})};var S=0;L.uniqueId=function(e){var t=++S+"";return e?e+t:t},L.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var D=/(.)^/,J={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},E=/\\|'|\r|\n|\t|\u2028|\u2029/g;L.template=function(e,t,n){var i;n=L.defaults({},n,L.templateSettings);var a=new RegExp([(n.escape||D).source,(n.interpolate||D).source,(n.evaluate||D).source].join("|")+"|$","g"),r=0,o="__p+='";if(e.replace(a,function(t,n,i,a,s){if(o+=e.slice(r,s).replace(E,function(e){return"\\"+J[e]}),n)o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'";if(i)o+="'+\n((__t=("+i+"))==null?'':__t)+\n'";if(a)o+="';\n"+a+"\n__p+='";return r=s+t.length,t}),o+="';\n",!n.variable)o="with(obj||{}){\n"+o+"}\n";o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{i=new Function(n.variable||"obj","_",o)}catch(s){throw s.source=o,s}if(t)return i(t,L);var l=function(e){return i.call(this,e,L)};return l.source="function("+(n.variable||"obj")+"){\n"+o+"}",l},L.chain=function(e){return L(e).chain()};var P=function(e){return this._chain?L(e).chain():e};L.mixin(L),x(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];L.prototype[e]=function(){var n=this._wrapped;if(t.apply(n,arguments),("shift"==e||"splice"==e)&&0===n.length)delete n[0];return P.call(this,n)}}),x(["concat","join","slice"],function(e){var t=i[e];L.prototype[e]=function(){return P.call(this,t.apply(this._wrapped,arguments))}}),L.extend(L.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)}),define("underscore",["underscore/underscore"],function(e){return e});