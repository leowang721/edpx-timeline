/*! @2014 Leo Wang. All Rights Reserved */
define("er/datasource",["require","./util","./ajax","./permission"],function(require){var e={};return e.constant=function(e){return function(){return e}},e.remote=function(e,t){return function(n){if(t=require("./util").mix({url:e,dataType:"json"},t),"function"==typeof t.data)t.data=t.data(n);var i=require("./ajax");return i.request(t)}},e.permission=function(e){return function(){var t=require("./permission");return t.isAllow(e)}},e.defaultValue=function(e,t){return function(n,i){if(!i.name&&!t)throw new Error("No property name specified to determine whether value exists in this model");var a=t||i.name;return n.hasValue(a)?n.get(a):e}},e.convertTo=function(e,t){return function(n,i){if(!i.name&&!t)throw new Error("No property name specified to convert");var a=t||i.name,o=n.get(a);switch(e){case"number":return parseInt(o,10);case"string":return o+"";case"boolean":return!!o;default:return o}}},e});