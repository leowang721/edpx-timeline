/*! @2014 Leo Wang. All Rights Reserved */
define("echarts/util/shape/Symbol",["require","zrender/shape/Base","zrender/shape/Polygon","zrender/tool/util","./normalIsCover"],function(require){function e(e){t.call(this,e)}var t=require("zrender/shape/Base"),n=require("zrender/shape/Polygon"),i=new n({}),a=require("zrender/tool/util");return e.prototype={type:"symbol",buildPath:function(e,t){var n=t.pointList,i=n.length;if(0!==i)for(var a,o,s,l,r,V=1e4,U=Math.ceil(i/V),h=n[0]instanceof Array,m=t.size?t.size:2,p=m,d=m/2,c=2*Math.PI,y=0;U>y;y++){e.beginPath(),a=y*V,o=a+V,o=o>i?i:o;for(var b=a;o>b;b++){if(t.random)s=t["randomMap"+b%20]/100,p=m*s*s,d=p/2;if(h)l=n[b][0],r=n[b][1];else l=n[b].x,r=n[b].y;if(3>p)e.rect(l-d,r-d,p,p);else switch(t.iconType){case"circle":e.moveTo(l,r),e.arc(l,r,d,0,c,!0);break;case"diamond":e.moveTo(l,r-d),e.lineTo(l+d/3,r-d/3),e.lineTo(l+d,r),e.lineTo(l+d/3,r+d/3),e.lineTo(l,r+d),e.lineTo(l-d/3,r+d/3),e.lineTo(l-d,r),e.lineTo(l-d/3,r-d/3),e.lineTo(l,r-d);break;default:e.rect(l-d,r-d,p,p)}}if(e.closePath(),U-1>y)switch(t.brushType){case"both":e.fill(),t.lineWidth>0&&e.stroke();break;case"stroke":t.lineWidth>0&&e.stroke();break;default:e.fill()}}},getRect:function(e){return e.__rect||i.getRect(e)},isCover:require("./normalIsCover")},a.inherits(e,t),e});