/*! @2014 Leo Wang. All Rights Reserved */
define("mini-event/Event",["require","./lib"],function(require){function e(){return!0}function t(){return!1}function i(e){return"[object Object]"===Object.prototype.toString.call(e)}function n(e,t){if("object"==typeof e)t=e,e=t.type;if(i(t))a.extend(this,t);else if(t)this.data=t;if(e)this.type=e}var a=require("./lib");n.prototype.isDefaultPrevented=t,n.prototype.preventDefault=function(){this.isDefaultPrevented=e},n.prototype.isPropagationStopped=t,n.prototype.stopPropagation=function(){this.isPropagationStopped=e},n.prototype.isImmediatePropagationStopped=t,n.prototype.stopImmediatePropagation=function(){this.isImmediatePropagationStopped=e,this.stopPropagation()};var o=function(){return this}();n.fromDOMEvent=function(e,t,i){e=e||o.event;var a=new n(t,i);return a.preventDefault=function(){if(e.preventDefault)e.preventDefault();else e.returnValue=!1;n.prototype.preventDefault.call(this)},a.stopPropagation=function(){if(e.stopPropagation)e.stopPropagation();else e.cancelBubble=!0;n.prototype.stopPropagation.call(this)},a.stopImmediatePropagation=function(){if(e.stopImmediatePropagation)e.stopImmediatePropagation();n.prototype.stopImmediatePropagation.call(this)},a};var r={type:!0,target:!0,preventDefault:!0,isDefaultPrevented:!0,stopPropagation:!0,isPropagationStopped:!0,stopImmediatePropagation:!0,isImmediatePropagationStopped:!0};return n.fromEvent=function(e,t){var i={type:e.type,preserveData:!1,syncState:!1};t=a.extend(i,t);var o=new n(t.type);if(t.preserveData)for(var s in e)if(e.hasOwnProperty(s)&&!r.hasOwnProperty(s))o[s]=e[s];if(t.extend)a.extend(o,t.extend);if(t.syncState)o.preventDefault=function(){e.preventDefault(),n.prototype.preventDefault.call(this)},o.stopPropagation=function(){e.stopPropagation(),n.prototype.stopPropagation.call(this)},o.stopImmediatePropagation=function(){e.stopImmediatePropagation(),n.prototype.stopImmediatePropagation.call(this)};return o},n.delegate=function(e,t,i,o,r){var s="string"==typeof t,l={object:e,type:s?t:i},h={object:s?i:t,type:s?o:i},d=s?r:o;if(d=a.extend({preserveData:!1},d),"function"==typeof l.object.on&&"function"==typeof h.object.on&&"function"==typeof h.object.fire){var m=function(e){var t=n.fromEvent(e,d);t.type=h.type,t.target=h.object,h.object.fire(h.type,t)};l.object.on(l.type,m)}},n});